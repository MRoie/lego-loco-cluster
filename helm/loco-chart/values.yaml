replicas: 1
namespace: loco

imageRepo: "ghcr.io/mroie"

# Storage configuration
storage:
  class: "standard"  # Default storage class for PVCs
  nfsSize: "10Gi"
  diskSize: "10Gi"
  
  # Storage strategy configuration
  strategy:
    # Option 1: HostPath Direct Mounts
    hostPath:
      enabled: false  # Disabled by default, enable for local development
      path: "/tmp/loco-art-shared"
      createOnStartup: true
      permissions: "777"
    
    # Option 8: Hybrid Storage with Multiple Backends
    hybrid:
      enabled: false  # Disabled by default
      primary: "nfs"  # Default to NFS for production
      fallback: "emptyDir"
      
      # NFS configuration
      nfs:
        enabled: true
        server: "nfs-server"
        path: "/exports/art"
      
      # EmptyDir configuration
      emptyDir:
        enabled: false
        medium: ""
        sizeLimit: "10Gi"
      
      # ConfigMap configuration
      configMap:
        enabled: false
        name: "loco-art-config"
        dataKey: "art-data"

# Image pull secrets for private registries
# Uncomment and configure as needed
imagePullSecrets: []
  # - ghcr-secret        # GitHub Container Registry
  # - jfrog-secret       # JFrog Artifactory
  # - custom-registry    # Custom registry

# RBAC configuration for Kubernetes service discovery
rbac:
  create: true  # Create service account and RBAC for backend auto-discovery

# Registry configurations for different environments
registryConfig:
  # GitHub Container Registry
  ghcr:
    enabled: false
    secretName: "ghcr-secret"
    server: "ghcr.io"

  # JFrog Artifactory
  jfrog:
    enabled: false
    secretName: "jfrog-secret"
    server: ""  # e.g., "your-company.jfrog.io"

emulator:
  image: ghcr.io/mroie/lego-loco-cluster/win98-softgpu
  tag: latest
  imagePullPolicy: IfNotPresent

  servicePort: 5901
  diskPVC: win98-disk
  diskReadOnly: false

  # Snapshot configuration
  usePrebuiltSnapshot: false
  snapshotRegistry: "ghcr.io/mroie/qemu-snapshots"
  snapshotTag: "win98-base"

  # Health monitoring configuration
  healthPort: 8080
  probes:
    startup:
      enabled: true
      path: /
      failureThreshold: 30
      periodSeconds: 10
      timeoutSeconds: 5
    liveness:
      enabled: true
      path: /
      initialDelaySeconds: 60
      periodSeconds: 15
      timeoutSeconds: 10
      failureThreshold: 3
    readiness:
      enabled: true
      path: /
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3

  # CPU resources for emulator pods
  resources:
    limits:
      cpu: "1"
    requests:
      cpu: "0.25"
  
  # Additional environment variables
  env: {}
    # USE_PREBUILT_SNAPSHOT: "true"
    # SNAPSHOT_REGISTRY: "ghcr.io/mroie/qemu-snapshots"
    # SNAPSHOT_TAG: "win98-base"
    # DISK_SIZE: "2G"

backend:
  image: loco-backend
  tag: latest
  servicePort: 3001

frontend:
  image: loco-frontend
  tag: latest
  servicePort: 3000

git:
  userName: "Loco Watcher"
  userEmail: "watcher@example.com"

artRes:
  nfs:
    server: nfs-server
    path: /exports/art

vr:
  enabled: true
  image: loco-frontend
  tag: latest
  servicePort: 3000
  buildArgs:
    VITE_DEFAULT_VR: "true"
    
stunner:
  enabled: true

nfs:
  enabled: true
  size: 10Gi
  image: itsthenetwork/nfs-server-alpine:latest

apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "loco.fullname" . }}-vnc-config
  namespace: {{ include "loco.namespace" . }}
  labels:
    app.kubernetes.io/component: config
    app.kubernetes.io/part-of: lego-loco-cluster
    app.kubernetes.io/name: lego-loco-config
data:
  vnc.json: |
    {
      "implementation": "{{ .Values.vnc.implementation | default "novnc" }}",
      "fallbackEnabled": {{ .Values.vnc.fallbackEnabled | default true }},
      "maxRetries": {{ .Values.vnc.maxRetries | default 3 }}
    }
